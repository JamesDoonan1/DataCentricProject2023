<!-- views/editStore.ejs -->

<style>
    body {
        font-family: 'Arial', sans-serif;
        background-color: #f2f2f2; /* Set a light background color */
        color: #333; /* Set text color to a dark shade */
    }

    h1 {
        color: #4CAF50; /* Set h1 text color to green */
    }

    form {
        max-width: 400px;
        margin: 20px auto;
        background-color: #fff; /* Set form background color to white */
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* Add a subtle box shadow */
    }

    label {
        display: block;
        margin-bottom: 8px;
    }

    input {
        width: 100%;
        padding: 10px;
        margin-bottom: 15px;
        box-sizing: border-box;
        border: 1px solid #ccc;
        border-radius: 4px;
    }

    button {
        background-color: #4CAF50; /* Set button background color to green */
        color: #fff; /* Set button text color to white */
        padding: 10px 15px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }

    button:hover {
        background-color: #45a049; /* Darken the button color on hover */
    }

    a {
        display: block;
        margin-top: 15px;
        text-decoration: none;
        color: #4CAF50; /* Set link color to green */
    }

    a:hover {
        color: #45a049; /* Darken the link color on hover */
    }

    #errorMessage {
        color: #ff0000; /* Set error message color to red */
        margin-bottom: 15px;
    }
</style>

<div id="errorMessage"></div>

<h1>Edit Store</h1>

<form action="/stores/edit/<%= store.sid %>" method="post" onsubmit="return handleFormSubmission()">
    <label for="sid">Store ID:</label>
    <input type="text" id="sid" name="sid" value="<%= store.sid %>" readonly>
    <!-- Use readonly to make it non-editable -->

    <label for="location">Location:</label>
    <input type="text" id="location" name="location" value="<%= store.location %>" required>

    <label for="mgrid">Manager ID:</label>
    <input type="text" id="mgrid" name="mgrid" value="<%= store.mgrid %>" required pattern="[A-Za-z0-9]{4}">
    
    <button type="submit">Update Store</button>
</form>

<a href="/stores">Back to Stores</a>

<script>
    // Function to handle form submission and update error message
    function handleFormSubmission() {
        // Reset previous error message
        document.getElementById('errorMessage').innerHTML = '';

        // Perform additional client-side validations if needed

        // Return true to submit the form, or false to prevent submission
        return true;
    }
</script>
